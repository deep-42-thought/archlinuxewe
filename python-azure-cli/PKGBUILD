# Maintainer: Erich Eckner <arch at eckner dot net>
pkgname=python-azure-cli
_pkgname="${pkgname#*-}"
pkgver=2.28.1
pkgrel=1
pkgdesc='Microsoft Azure CLI'
arch=('any')
url='https://pypi.org/project/azure-cli/'
license=('MIT')
depends=(
  'python<3.10'
  'python>=3.9')
makedepends=(
  'python-setuptools')
source=(
    "https://files.pythonhosted.org/packages/9e/6b/b94f437f6b9a2ed33847623f2988ae4291c999793e7fb1a609fb5edb68b7/${_pkgname}-${pkgver}.tar.gz"
    az
)
sha512sums=('81a0953526b4d9b16d2dabe5db6d4187a15c1c9c8ac9660c93f9ac9f9fc136c897135f943632aaa5b40c9ed1f613537b6d8c07c18aa10b41c2ead931260d96c9'
            '94a9d3daeced17fccae9cb94638a82db0515e4c7fd6b8bbe68f9b428dc84c19a6c956a809c160083e040180914665a3980c257e9f210c431c8d46d574bf113ba')

build() {
  cd "${_pkgname}-${pkgver}"
  python setup.py build
}

package() {
  cd "${_pkgname}-${pkgver}"
  python setup.py install --skip-build --root="${pkgdir}" --prefix=/usr
  install -m755 -t "${pkgdir}/usr/bin" "${srcdir}/az"
}
