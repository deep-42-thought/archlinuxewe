# Maintainer: Erich Eckner <arch at eckner dot net>
# Contributor: Samuel Fernando Mesa <samuelmesa dot linuxmail.org>

pkgname=librttopo
pkgver=1.1.0
pkgrel=1
pkgdesc="RT Topology Library"
url="https://git.osgeo.org/gitea/rttopo/librttopo"
arch=('x86_64' 'i686' 'pentium4')
license=('GPLv2')
_pinned_dependencies=(
  'geos=3.8.0'
  'glibc>=2.32'
)
depends=("${_pinned_dependencies[@]}" 'proj')
makedepends=('cmake')
source=("https://git.osgeo.org/gitea/rttopo/librttopo/archive/librttopo-${pkgver}.tar.gz")
md5sums=('0952b78943047ca69a9e6cbef6146869')

build() {
  cd "${srcdir}/${pkgname}"
  
  ./autogen.sh
  ./configure --prefix="/usr"
  make
}

check() {
  cd "${srcdir}/${pkgname}"
  make check
}

package() {
  cd "${srcdir}/${pkgname}"
  make DESTDIR="${pkgdir}" install
}
