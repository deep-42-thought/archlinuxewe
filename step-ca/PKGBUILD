# Maintainer: Erich Eckner <arch at eckner dot net>
pkgname=step-ca
pkgver=0.14.4
pkgrel=1
pkgdesc="An online certificate authority and related tools for secure automated certificate management, so you can use TLS everywhere."
arch=('i486' 'i686' 'pentium4' 'x86_64' 'armv6h' 'armv7h' 'aarch64')
makedepends=(go golangci-lint)
url="https://smallstep.com/certificates"
license=('Apache')

source=("${pkgname}-${pkgver}.tar.gz::https://github.com/smallstep/certificates/archive/v${pkgver}.tar.gz")
sha512sums=('8d53a042052b9b3b4b6fa4edf23ee07315a0c509111fc789c89cbae6ccae292b0f7c56546bff4289c9534d8fe4eb095b9e5baeef5dbb61299e55bd98ab6197b9')

build() {
    cd certificates-$pkgver
    make -j 1
}

package() {
    install -Dm755 "certificates-$pkgver/bin/$pkgname" "$pkgdir/usr/bin/$pkgname"
    install -Dm644 "certificates-$pkgver/README.md" "$pkgdir/usr/share/doc/$pkgname/README.md"
}
