# Maintainer:  Erich Eckner <arch at eckner dot net>
# Contributor: Thomas BÃ¤chler <thomas@archlinux.org>

pkgname=easy-rsa
pkgver=3.0.1
pkgrel=1
pkgdesc="Simple shell based CA utility"
arch=(any)
url="https://github.com/OpenVPN/easy-rsa"
depends=('openssl' 'sh')
license=('custom')
backup=('usr/share/easy-rsa/easyrsa3/openssl-1.0.cnf')
source=(${pkgname}-${pkgver}.tar.gz::https://github.com/OpenVPN/easy-rsa/archive/${pkgver}.tar.gz)
sha512sums=('818e757041a035c2983951a688b111cb2e869f6e34830248f3643049257dd48ec58021b16afbac007d19838cc10eee9226500bcd0ed023de308bb8a210a9840c')

package() {
  cd "${srcdir}/${pkgname}-${pkgver}"

  # doc and license
  install -d ${pkgdir}/usr/share/doc/easy-rsa/
  mv doc/* ${pkgdir}/usr/share/doc/easy-rsa/
  rmdir doc

  install -d ${pkgdir}/usr/share/licenses/easy-rsa/
  mv ChangeLog COPYING KNOWN_ISSUES ${pkgdir}/usr/share/licenses/easy-rsa/

  # Install easy-rsa
  install -d ${pkgdir}/usr/share/easy-rsa/
  mv * ${pkgdir}/usr/share/easy-rsa/
}
