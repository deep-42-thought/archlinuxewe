# Maintainer: Erich Eckner <arch at eckner dot net>
pkgname=xraylarch
pkgver=0.9.28
pkgrel=1
pkgdesc="Data Analysis Tools for X-ray Spectroscopy"
arch=('any')
url="http://xraypy.github.io/xraylarch/"
license=('BSD')
groups=()
depends=(
  'python2'
  'python2-sqlalchemy'
  'python2-scipy'
  'python2-matplotlib'
  'python2-h5py'
  'python2-numpy'
  'wxpython'
  'python2-wxutils'
  'python2-wxmplot'
)
makedepends=()
checkdepends=()
optdepends=(
  'python2-termcolor:  needed for color-enhanced error messages'
  'python2-epics:      needed for using the EPICS control system'
)
provides=()
conflicts=()
replaces=()
backup=()
options=()
source=(
    "${pkgname}-${pkgver}.tar.gz::https://github.com/xraypy/${pkgname}/archive/${pkgver}.tar.gz"
)
sha512sums=('f1af402e82f38934b9ee72daa406aa4ea57cf0787113f39fa2ffd3abd7c4d4002ce25d6b5c6975875557d23f1d8f18f1cc7e04acfeb447aecdbff6da79bdc9a8')

build() {

    cd ${pkgname}-${pkgver}
#    sed "s|DEBUG = False|DEBUG = True|" -i setup.py
    python2 setup.py build

}

package() {

    cd ${pkgname}-${pkgver}
    python2 setup.py install --skip-build --root="${pkgdir}" --prefix=/usr
    sed "s| python\$| python2|" -i $pkgdir/usr/bin/*

}
