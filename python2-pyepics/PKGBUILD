# Maintainer: Erich Eckner <arch at eckner dot net>
pkgname=python2-pyepics
pkgver=3.3.3
pkgrel=2
pkgdesc='Python Interface to the Epics Channel Access protocol of the Epics control system'
arch=('i686' 'pentium4' 'x86_64')
url='https://pypi.python.org/pypi/pyepics'
license=('Epics Open License')
groups=()
depends=(
  'python2>=2.7'
  'python2<2.8'
)
makedepends=(
  'python2-setuptools'
)
checkdepends=()
optdepends=()
provides=()
conflicts=()
replaces=()
backup=()
options=()
source=(
    "${pkgname}-${pkgver}.tar.gz::https://pypi.python.org/packages/e6/9a/68dbcdd21c857c396384343dddb7a2939cd7b61f3e851dda287e458e2e42/${pkgname#*-}-${pkgver}.tar.gz"
)
sha512sums=('522b59f678b2491ab4ddfa3863feac170c027a5abc545b93a82f73e4006f5b79544656e1f0fcb7bd080288cc271837b9cdd719c0104672bb70024d497a3f9c33')

build() {

    cd ${pkgname#*-}-${pkgver}
    python2 setup.py build

}

package() {

    cd ${pkgname#*-}-${pkgver}
    python2 setup.py install --skip-build --root="${pkgdir}" --prefix=/usr
    find "${pkgdir}" -type f -exec sed -si '1 s/ python$/ python2/' {} +

}
