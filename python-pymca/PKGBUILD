# Maintainer: Erich Eckner <arch at eckner dot net>
pkgname=python-pymca
_pkgname="${pkgname#*-}"
pkgver=5.6.7
pkgrel=50
pkgdesc='Stand-alone application and Python tools for interactive and/or batch processing analysis of X-Ray Fluorescence Spectra'
arch=('i686' 'pentium4' 'x86_64')
url='http://pymca.sourceforge.net/index.html'
license=('MIT License')
_pinned_dependencies=(
  'glibc>=2.31'
)
depends=(
  "${_pinned_dependencies[@]}"
  'python<3.10'
  'python>=3.9'
  'python-fisx>=1.1.5'
  'python-h5py'
  'python-matplotlib>1.0'
  'python-numpy>=1.8'
#  'python-pyopengl'
#  'python-pyqt4'
  'python-pyqt5'
  'python-qtconsole')
makedepends=(
  'python-setuptools')
optdepends=(
  'python-pyqt5: gui'
  'python-matplotlib: gui')
source=(
    "${_pkgname}-v${pkgver}.tar.gz::https://github.com/vasole/${_pkgname}/archive/v${pkgver}.tar.gz"
)
sha512sums=('5039fda7d4626b9dc4086d3a1137074f6b193f7945defb456319562d4eebcd7117440951e7476b182aacbfdd7b91e3e736ec81fe0cc4b9292408c4995b48264d')

build() {
  cd ${_pkgname}-${pkgver}
  python setup.py build
}

package() {
  cd ${_pkgname}-${pkgver}
  python setup.py install --skip-build --root="${pkgdir}" --prefix=/usr
}
